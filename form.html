<!DOCTYPE html>
<html>
<head>
    <title>Student Detail Form</title>
</head>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f2f2f2;
    }

    form {
        margin-bottom: 20px;
    }

    label {
        display: block;
        margin-bottom: 5px;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="date"],
    input[type="time"],
    input[type="submit"] {
        width: 200px;
        padding: 5px;
        margin-bottom: 10px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    th, td {
        padding: 10px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }

    th {
        background-color: #f2f2f2;
    }

    .error-message {
        color: red;
    }
</style>
<body>
    <h1>Student Detail Form</h1>
    <form>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="studentNo">Student No.:</label>
        <input type="text" id="studentNo" name="studentNo" required><br><br>

        <label for="currentAddress">Current Address:</label>
        <textarea id="currentAddress" name="currentAddress" required></textarea><br><br>

        <label for="homeAddress">Home Address:</label>
        <textarea id="homeAddress" name="homeAddress" required></textarea><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" required><br><br>

        <label for="phoneNo">Phone No.:</label>
        <input type="tel" id="phoneNo" name="phoneNo" required><br><br>

        <input type="submit" value="Submit">
    </form>
    <script>
        // FILEPATH: /C:/xampp/htdocs/webappsecasg/form.html
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('form');
            const nameInput = document.getElementById('name');
            const studentNoInput = document.getElementById('studentNo');
            const emailInput = document.getElementById('email');
            const phoneNoInput = document.getElementById('phoneNo');

            form.addEventListener('submit', function(event) {
                event.preventDefault();
                let isValid = true;

                // Reset error messages
                const errorMessages = document.querySelectorAll('.error-message');
                errorMessages.forEach(function(errorMessage) {
                    errorMessage.remove();
                });

                // Validate name
                if (nameInput.value.trim() === '') {
                    displayErrorMessage(nameInput, 'Name is required');
                    isValid = false;
                }

                // Validate student number
                if (studentNoInput.value.trim() === '') {
                    displayErrorMessage(studentNoInput, 'Student No. is required');
                    isValid = false;
                }

                // Validate email
                const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                if (!emailRegex.test(emailInput.value)) {
                    displayErrorMessage(emailInput, 'Invalid email format');
                    isValid = false;
                }

                // Validate phone number
                const phoneNoRegex = /^\d{10}$/;
                if (!phoneNoRegex.test(phoneNoInput.value)) {
                    displayErrorMessage(phoneNoInput, 'Invalid phone number format');
                    isValid = false;
                }

                if (isValid) {
                    // Submit the form if all inputs are valid
                    form.submit();
                }
            });

            function displayErrorMessage(input, message) {
                const errorMessage = document.createElement('span');
                errorMessage.classList.add('error-message');
                errorMessage.textContent = message;
                input.parentNode.appendChild(errorMessage);
            }
        });
    </script>
</body>
</html>